/* This will be triggered by running "curl -u admin:admin http://localhost/job/pipeline_manager/build?token=main"  */
pipeline {
    agent {label 'workers'}
    stages {
        stage('Spellcheck Pipeline') {
            steps {
                sh '''
                curl -u admin:admin http://localhost/job/spell_check/build?token=spellcheck
                '''
            }
        }
        stage('Codespell and Shellcheck Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/codespell_and_shellcheck/build?token=codespell_shellcheck'
            }
        }
        stage('Tests Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/tests/build?token=test'
            }
        }
        stage('Build and Push Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/build/build?token=build'
            }
        }
    }
}
