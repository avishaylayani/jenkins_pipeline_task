/* This will be triggered by running "curl -u admin:admin http://localhost/job/pipeline_manager/build?token=main"  */
pipeline {
    agent {label 'workers'}
    stages {
        stage('Spellcheck Pipeline') {
            steps {
                sh '''
                curl -u admin:admin http://localhost/job/1_spell_check/buildWithParameters?token=spellcheck
                '''
            }
        }
        stage('Codespell and Shellcheck Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/2_codespell_and_shellcheck/buildWithParameters?token=codespell_shellcheck'
            }
        }
        stage('Tests Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/03_tests/buildWithParameters?token=test'
            }
        }
        stage('Build and Push Pipeline') {
            steps {
                sh 'curl -u admin:admin http://localhost/job/04_build/buildWithParameters?token=build'
            }
        }
    }
}
